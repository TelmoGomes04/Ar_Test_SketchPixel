<!DOCTYPE html>
<html>
<head>
    <title>WebXR AR Example</title>
    <style>
        body {
            margin: 0;
            overflow: hidden;
        }
    </style>
</head>
<body>
    <script>
        // Verifique se o navegador suporta 'immersive-ar' mode
        if (navigator.xr && navigator.xr.isSessionSupported('immersive-ar')) {
            navigator.xr.requestSession('immersive-ar', {
                requiredFeatures: ['local-floor', 'hit-test']
            }).then((session) => {
                const canvas = document.createElement('canvas');
                const gl = canvas.getContext('webgl', { xrCompatible: true });
                document.body.appendChild(canvas);
                session.updateRenderState({ baseLayer: new XRWebGLLayer(session, gl) });

                session.requestReferenceSpace('local-floor').then((refSpace) => {
                    session.requestAnimationFrame((time, frame) => {
                        // Obtenha a pose do dispositivo
                        const pose = frame.getViewerPose(refSpace);

                        // Use a pose para renderizar a cena
                        // ...
                    });
                });

                // Adicione um ouvinte de evento para 'select' para lidar com o toque/click
                session.addEventListener('select', (event) => {
                    // Use o evento XRHitTestResult para obter a posição do toque/click
                    const hitTestResult = event.frame.getHitTestResults(event.inputSource);

                    if (hitTestResult.length > 0) {
                        const hitPose = hitTestResult[0].getPose(refSpace);

                        // Use a pose do hit para posicionar seu objeto
                        // ...
                    }
                });
            });
        }
    </script>
</body>
</html>